{% extends 'base.html.twig' %}

{% block title %}HelloRecettes - Mes ingrÃ©dients
{% endblock %}

{% block body %}
	<div class="container mt-4 mb-5">
		<div class="page-header-section">
			<div class="page-icon">ğŸ›’</div>
			<h1 class="page-title">Mes ingrÃ©dients</h1>
			<p class="page-subtitle">GÃ©rez votre garde-manger et vos ingrÃ©dients prÃ©fÃ©rÃ©s</p>
		</div>

		{% for message in app.flashes('success') %}
			<div class="alert alert-success mt-4">
				{{ message }}
			</div>
		{% endfor %}

		{% if not ingredients.items is same as([]) %}
			<div class="d-flex justify-content-between align-items-center mb-4">
				<div class="recipes-count">
					<span class="badge-count">{{ ingredients.getTotalItemCount }}
						ingrÃ©dient{{ ingredients.getTotalItemCount > 1 ? 's' : '' }}</span>
				</div>
				<a href="{{ path('ingredient.new') }}" class="btn btn-create">
					â• CrÃ©er un ingrÃ©dient
				</a>
			</div>

			<div class="row mt-4">
				{% for ingredient in ingredients %}
					<div class="col-md-6 col-lg-4 mb-4">
						<div class="ingredient-card">
							<div class="ingredient-header">
								<span class="ingredient-badge">#{{ ingredient.id }}</span>
								<div class="ingredient-actions">
									<a href="{{ path('ingredient.edit', {id: ingredient.id }) }}" class="btn-action btn-edit" title="Modifier">
										âœï¸
									</a>
									<a href="{{ path('ingredient.delete', {id: ingredient.id }) }}" class="btn-action btn-delete" title="Supprimer">
										ğŸ—‘ï¸
									</a>
								</div>
							</div>
							<div class="ingredient-body">
								<div class="ingredient-icon">ğŸ›’</div>
								<h4 class="ingredient-name">{{ ingredient.name }}</h4>
								<div class="ingredient-info">
									<div class="info-item">
										<span class="info-label">ğŸ’° Prix</span>
										<span class="info-value">{{ ingredient.price ? ingredient.price ~ 'â‚¬' : 'Non dÃ©fini' }}</span>
									</div>
									<div class="info-item">
										<span class="info-label">ğŸ“… AjoutÃ© le</span>
										<span class="info-value">{{ ingredient.createdAt|date('d/m/Y') }}</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				{% endfor %}
			</div>

			<div class="pagination-wrapper">
				{{ knp_pagination_render(ingredients) }}
			</div>
		{% else %}
			<div class="empty-state">
				<div class="empty-icon">ğŸ›’</div>
				<h3>Aucun ingrÃ©dient</h3>
				<p>Commencez par ajouter vos premiers ingrÃ©dients pour crÃ©er des recettes !</p>
				<a href="{{ path('ingredient.new') }}" class="btn btn-create mt-3">
					â• CrÃ©er mon premier ingrÃ©dient
				</a>
			</div>
		{% endif %}
	</div>
{% endblock %}
