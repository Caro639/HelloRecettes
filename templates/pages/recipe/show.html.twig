{% extends 'base.html.twig' %}

{% block title %}HelloRecettes -
	{{ recipe.name }}
{% endblock %}

{% block body %}
	<div class="container mt-4">

		{% for message in app.flashes('success') %}
			<div class="alert alert-success mt-4">
				{{ message }}
			</div>
		{% endfor %}

		<h1 class="mt-4">{{ recipe.name }}</h1>

		<div class="image_directory mt-4">
		{% if recipe.image %}
			<img style="object-fit: cover; width: 200px; height: 200px;" src="{{ asset('../image/products/'~ recipe.image) }}" alt="Photo de la recette"/>
		{% else %}
			<img style="object-fit: cover; width: 200px; height: 200px;" src="{{ asset('../image/products/replace.jpg') }}" alt="Photo par défaut de la recette"/>
		{% endif %}

		</div>

		<p class="mt-4">La moyenne de cette recette est de
			{{ recipe.average|number_format(2, '.', ',') }}/5</p>

		<div>
			<span class="badge bg-primary">Créé le
				{{ recipe.createdAt|date('d/m/Y') }}
			</span>
		</div>

		<div class="mt-4">
			{% if recipe.time %}
				<p>Temps :
					{{ recipe.time|minutes_to_hour }}</p>
			{% else %}
				<p>Temps non renseigné</p>
			{% endif %}
		</div>

		<div class="mt-4">
			{% if recipe.nbPeople %}
				<p>Pour
					{{ recipe.nbPeople }}
					personnes</p>
			{% else %}
				<p>Nombre de personnes non renseignées</p>
			{% endif %}
		</div>

		<div class="mt-4">
			{% if recipe.difficulty %}
				<p>Difficulté :
					{{ recipe.difficulty }}/5</p>
			{% else %}
				<p>Difficulté non renseignée</p>
			{% endif %}
		</div>

		<div class="mt-4">
			{% if recipe.price %}
				<p>Prix :
					{{ recipe.price }} €</p>
			{% else %}
				<p>Prix non renseigné</p>
			{% endif %}
		</div>

		<div class="mt-4">
			{{ recipe.description|raw }}
		</div>

		<div class="mt-4">
			<p class="mt-4">Ingrédients</p>
			{% for ingredient in recipe.ingredients %}
				<span class="badge bg-primary">{{ ingredient.name }}
				</span>
			{% endfor %}
		</div>

		<div class="mt-4">
			{{ form(form) }}
			</div>
		</div>
{% endblock %}
